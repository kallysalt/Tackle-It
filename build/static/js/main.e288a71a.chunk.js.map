{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","hooks/useDocument.js","images/team.svg","components/Navbar.js","hooks/useLogout.js","images/dashboard.svg","images/add.svg","components/SideBar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubsribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","Avatar","src","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","filterList","ProjectFilter","changeFilter","currentFilter","setCurrentFilter","f","onClick","newFilter","Dashboard","filter","setFilter","document","assignedToMe","u","uid","category","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","history","useHistory","users","setUsers","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","displayName","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","options","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","documentRef","online","useLogin","disabled","Signup","setDisplayName","avatar","setAvatar","AvatarError","setAvatarError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Project","setDocument","unsubscribe","err","useDocument","useParams","Navbar","logout","currentUser","signOut","useLogout","logo","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e288a71a.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBvdf5G18XliY3Q7zRMFM2Ujzk-mbP1cOI\",\n    authDomain: \"tackle-it-7.firebaseapp.com\",\n    projectId: \"tackle-it-7\",\n    storageBucket: \"tackle-it-7.appspot.com\",\n    messagingSenderId: \"463778182163\",\n    appId: \"1:463778182163:web:1917ce5fcbff617232fbe6\",\n    measurementId: \"G-TQMMP860YW\"\n  };\n\n  // connects firebase backend to react web app\n  firebase.initializeApp(firebaseConfig)\n\n  // initialize services\n  const projectFirestore = firebase.firestore()\n  const projectAuth = firebase.auth()\n  const projectStorage = firebase.storage()\n\n  const timestamp = firebase.firestore.Timestamp\n\n  export {projectFirestore, projectAuth, timestamp, projectStorage}","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'LOGIN':\n            return {...state, user: action.payload}\n        case 'LOGOUT':\n            return {...state, user: null}\n        case 'AUTH_IS_READY':\n            return {user: action.payload, authIsReady: true}\n        default: \n        return state\n    }\n}\n\nexport const AuthContextProvider = ({children}) => {\n    const [state, dispatch] = useReducer(authReducer, {\n        user: null,\n        authIsReady: false\n    })\n\n    useEffect(() => {\n        const unsub = projectAuth.onAuthStateChanged(user => {\n            dispatch({type:'AUTH_IS_READY', payload: user})\n            unsub()\n        })\n    }, [])\n\n    console.log('AuthContext state:', state)\n\n    return (\n        <AuthContext.Provider value={{ ...state, dispatch }}>\n          { children }\n        </AuthContext.Provider>\n    )\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n    const [documents, setDocuments] = useState(null)\n    const [error, setError] = useState(null)\n\n    const query = useRef(_query).current\n    const orderBy = useRef(_orderBy).current\n\n    useEffect(() => {\n        let ref = projectFirestore.collection(collection)\n        if (query) {\n            ref = ref.where(...query)\n        }\n        if (orderBy) {\n            ref = ref.orderBy(...orderBy)\n        }\n\n    const unsubsribe = ref.onSnapshot(snapshot => {\n        let results = []\n        snapshot.docs.forEach(doc => {\n            results.push({...doc.data(), id: doc.id})\n        })\n        setDocuments(results)\n        setError(null)\n    }, error => {\n        console.log(error)\n        setError('could not fetch the data')\n    })\n\n    return () => unsubsribe()\n    \n}, [collection, query, orderBy])\n\nreturn {documents, error}\n\n}","import './Avatar.css'\n\nexport default function Avatar({src}) {\n  return (\n    <div className='avatar'>\n        <img src={src} alt='user avatar' />\n    </div>\n  )\n}\n","import './ProjectList.css'\nimport { Link } from 'react-router-dom'\nimport Avatar from '../components/Avatar'\n\nexport default function ProjectList({projects}) {\n\n    console.log(projects)\n\n    return (\n        <div className='project-list'>\n            {projects.length === 0 && <p>No projects yet!</p>}\n            {projects.map(project => (\n                <Link to={`/projects/${project.id}`} key={project.id}>\n                    <h4>{project.name}</h4>\n                    <p>Due by {project.dueDate.toDate().toDateString()}</p>\n                    <div className=\"assigned-to\">\n                        <p><strong>Assigned to:</strong></p>\n                        <ul>\n                            {project.assignedUsersList.map(user => (\n                                <li key={user.photoURL}> <Avatar src={user.photoURL} /> </li>\n                            ))}\n                        </ul>\n                    </div>\n                </Link>\n            ))}\n        </div>\n    )\n}\n","import { useState } from 'react'\n\nconst filterList = ['all', 'mine', 'development', 'design', 'marketing', 'sales']\n\nexport default function ProjectFilter({changeFilter}) {\n\n    const [currentFilter, setCurrentFilter] = useState('all')\n    \n    const handleClick = (newFilter) => {\n        setCurrentFilter(newFilter)\n        changeFilter(newFilter)\n    }\n\n    return (\n        <div className='project-filter'>\n            <nav>\n                <p>Filter by: </p>\n                {filterList.map((f) => (\n                    <button key={f} onClick={() => handleClick(f)} className={currentFilter === f ? 'active':''}>{f}</button>\n                ))}\n            </nav>\n        </div>\n    )\n}\n","import './Dashboard.css'\nimport { useState } from 'react'\nimport { useCollection } from '../../hooks/useCollection'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport ProjectList from '../../components/ProjectList'\nimport ProjectFilter from './ProjectFilter'\n\nexport default function Dashboard() {\n\n  const {documents, error} = useCollection('projects')\n  const {user} = useAuthContext()\n  const [filter, setFilter] = useState('all')\n\n  const changeFilter = (newFilter) => {\n    setFilter(newFilter)\n  }\n\n  const projects = documents ? documents.filter(document => {\n    switch (filter) {\n      case 'all': \n        return true\n      case 'mine':\n        let assignedToMe = false\n        document.assignedUsersList.forEach(u => {\n          if (u.id === user.uid) {\n            assignedToMe = true\n          }\n        })\n        return assignedToMe\n      case 'development':\n      case 'design':\n      case 'sales':\n      case 'marketing':\n        console.log(document.category, filter)\n        return document.category === filter\n      default:\n        return true\n    }\n  }) : null\n\n  return (\n    <div>\n      <h2 className='page-title'>Dashboard</h2>\n      {error && <p className='error'>{error}</p>}\n      {documents && <ProjectFilter changeFilter={changeFilter} />}\n      {projects && <ProjectList projects={projects} />}\n    </div>\n  )\n}","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {document: null, isPending: false, error: null, success: null}\n\nconst firestoreReducer = (state, action) => {\n    switch (action.type) {\n        case 'IS_PENDING':\n            return { isPending: true, document: null, success: false, error: null }\n        case 'ADDED_DOCUMENT':\n            return { isPending: false, document: action.payload, success: true, error: null }\n        case 'DELETED_DOCUMENT':\n            return { isPending: false, document: null, success: true, error: null }\n        case 'UPDATED_DOCUMENT':\n            return {isPending: false, document: action.payload, success: true, error: null}\n        case 'ERROR':\n            return { isPending: false, document: null, success: false, error: action.payload }\n        default:\n            return state\n    }\n}\n\nexport const useFirestore = (collection) => {\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\n    const [isCancelled, setIsCancelled] = useState(false)\n\n    const ref = projectFirestore.collection(collection)\n\n    const dispatchIfNotCancelled = (action) => {\n        if (!isCancelled) {\n            dispatch(action)\n        }\n    }\n\n    const addDocument = async (doc) => {\n        dispatch({type: 'IS_PENDING'})\n        try {\n            const createdAt = timestamp.fromDate(new Date())\n            const addedDocument = await ref.add({...doc, createdAt})\n            dispatchIfNotCancelled({type: 'ADDED_DOCUMENT', payload: addedDocument})\n        }\n        catch (err) {\n            dispatchIfNotCancelled({type: 'ERROR', payload: err.message})\n        }\n    }\n\n    const deleteDocument = async (id) => {\n        dispatch({type: 'IS_PENDING'})\n        try {\n            await ref.doc(id).delete()\n            dispatchIfNotCancelled({type: 'DELETED_DOCUMENT'})\n        }\n        catch (err) {\n            dispatchIfNotCancelled({type: 'ERROR', payload: 'could not delete'})\n        }\n    }\n\n    const updateDocument = async (id, updates) => {\n        dispatch({type: 'IS_PENDING'})\n        \n        try {\n            const updatedDocument = await ref.doc(id).update(updates)\n            dispatchIfNotCancelled({type: 'UPDATED_DOCUMENT', payload: updatedDocument})\n            return updatedDocument\n        }\n        catch (err) {\n            dispatchIfNotCancelled({type: 'ERROR', payload: err})\n            return null\n        }\n    }\n\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n    \n    return { addDocument, deleteDocument, updateDocument, response }\n\n}","import './Create.css'\nimport { useEffect, useState } from 'react'\nimport Select from 'react-select'\nimport { useHistory } from 'react-router'\n\nimport { timestamp } from '../../firebase/config'\nimport { useCollection } from '../../hooks/useCollection'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useFirestore } from '../../hooks/useFirestore'\n\n\nconst categories = [\n  {value: 'development', label: 'Development'},\n  {value: 'design', label: 'Design'},\n  {value: 'sales', label: 'Sales'},\n  {value: 'marketing', label: 'Marketing'},\n]\n\nexport default function Create() {\n\n  const {user} = useAuthContext()\n  const {documents} = useCollection('users')\n  const {addDocument, response} = useFirestore('projects')\n  const history = useHistory()\n\n  const [users, setUsers] = useState([])\n  const [name, setName] = useState('')\n  const [details, setDetails] = useState('')\n  const [dueDate, setDueDate] = useState('')\n  const [category, setCategory] = useState('')\n  const [assignedUsers, setAssignedUsers] = useState([])\n  const [formError, setFormError] = useState(null)\n\n   // create user values for react-select\n   useEffect(() => {\n    if (documents) {\n      setUsers(documents.map(user => {\n        return {value: {...user, id: user.id}, label: user.displayName}\n      }))\n    }\n  }, [documents])\n\n  const handleSubmit = async(e) => {\n    e.preventDefault()\n    setFormError(null)\n\n    if (!category) {\n      setFormError('Please select a project category.')\n      return\n    }\n    if (assignedUsers.length < 1) {\n      setFormError('Please assign the project to at least 1 user')\n      return\n    }\n\n    const createdBy = {\n      displayName: user.displayName, \n      photoURL: user.photoURL,\n      id: user.uid\n    }\n\n    const assignedUsersList = assignedUsers.map((u) => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id\n      }\n    })\n\n    const project = {\n      name, details, \n      category: category.value, \n      dueDate: timestamp.fromDate(new Date(dueDate)), \n      comments: [], \n      createdBy, \n      assignedUsersList\n    }\n\n    await addDocument(project)\n    if (!response.error) {\n      history.push('/')\n    }\n  }\n\n  return (\n    <div className='create-form'>\n      <h2 className='page-title'>Create a new project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input required type='text' onChange={(e) => setName(e.target.value)} value={name} />\n        </label>\n        <label>\n          <span>Project details:</span>\n          <textarea required type='text' onChange={(e) => setDetails(e.target.value)} value={details}></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input required type='date' onChange={(e) => setDueDate(e.target.value)} value={dueDate} />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select onChange={(option) => setCategory(option)} options={categories} />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select onChange={(option) => setAssignedUsers(option)} options={users} isMulti />\n        </label>\n        <button className=\"btn\">Add Project</button>\n\n        {formError && <p className='error'>{formError}</p>}\n\n      </form>\n    </div>\n  )\n}","import './Login.css'\nimport { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\nexport default function Login() {\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const {login, error, isPending} = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n\n      <h2>login</h2>\n\n      <label>\n        <span>email:</span>\n        <input required type=\"email\" onChange={(e) => setEmail(e.target.value)} value={email} /> \n      </label>\n      <label>\n        <span>password:</span>\n        <input required type=\"password\" onChange={(e) => setPassword(e.target.value)} value={password} />\n      </label>\n\n      {!isPending && <button className=\"btn\">Log in</button>}\n      {isPending && <button className=\"btn\" disabled>loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n\n    </form>\n  )\n} ","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const {dispatch} = useAuthContext()\n\n    const login = async (email, password) => {\n\n        setError(null)\n        setIsPending(true)\n        \n        try {\n            const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n            const documentRef = projectFirestore.collection('users').doc(res.user.uid)\n            await documentRef.update({ online: true })\n\n            dispatch({type: 'LOGIN', payload: res.user})\n            \n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n        }\n        catch (err) {\n            if (!isCancelled) {\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return {login, isPending, error}\n}","import './Signup.css'\nimport { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const [avatar, setAvatar] = useState(null)\n  const [AvatarError, setAvatarError] = useState(null) \n  const {signup, isPending, error} = useSignup()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName, avatar)\n  }\n\n  const handleFileChange = (e) => {\n\n    setAvatar(null)\n    let selected = e.target.files[0]\n    console.log(selected)\n\n    if (!selected) {\n      setAvatarError('Please select a file')\n      return\n    }\n    if (!selected.type.includes('image')) {\n      setAvatarError('Selected file must be an image')\n      return\n    }\n    if (selected.size > 100000) {\n      setAvatarError('Image file size must be less than 100kb')\n      return\n    }\n    setAvatarError(null)\n    setAvatar(selected)\n    console.log('avatar updated')\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n\n      <h2>sign up</h2>\n      \n      <label>\n        <span>email:</span>\n        <input required type=\"email\" onChange={(e) => setEmail(e.target.value)} value={email} /> \n      </label>\n      <label>\n        <span>password:</span>\n        <input required type=\"password\" onChange={(e) => setPassword(e.target.value)} value={password} />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input required type=\"text\" onChange={(e) => setDisplayName(e.target.value)} value={displayName}/>\n      </label>\n      <label>\n        <span>Profile avatar:</span>\n        <input required type=\"file\" onChange={handleFileChange} />\n        {AvatarError && <div className=\"error\">{AvatarError}</div>}\n      </label>\n\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && <button className=\"btn\" disabled>loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n      \n    </form>\n  )\n}","import { useEffect, useState } from 'react'\nimport { projectAuth, projectStorage, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const {dispatch} = useAuthContext()\n\n    const signup = async (email, password, displayName, avatar) => {\n        setError(null)\n        setIsPending(true)\n\n        try {\n            const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n            if (!res) {\n                throw new Error('Could not complete signup')\n            }\n\n            // upload user avatar\n            const uploadPath = `avatars/${res.user.uid}/${avatar.name}`\n            const img = await projectStorage.ref(uploadPath).put(avatar)\n            const imgUrl = await img.ref.getDownloadURL()\n\n            // update user profile\n            await res.user.updateProfile({ displayName, photoURL: imgUrl })\n\n            // create user doc\n            await projectFirestore.collection('users').doc(res.user.uid).set({ \n                online: true,\n                displayName,\n                photoURL: imgUrl,\n            })\n\n            // dispatch login\n            dispatch({type: 'LOGIN', payload: res.user}) \n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n        }\n        catch (err) {\n            if (!isCancelled) {\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return {signup, error, isPending}\n}","import { useHistory } from \"react-router-dom\";\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport Avatar from \"../../components/Avatar\";\n\nexport default function ProjectSummary({project}) {\n\n    const {deleteDocument} = useFirestore('projects')\n    const {user} = useAuthContext()\n    const history = useHistory()\n\n    const handleClick = () => {\n        deleteDocument(project.id)\n        history.push('/')\n    }\n\n    return (\n        <div>\n            <div className='project-summary'>\n                <h2 className='page-title'>{project.name}</h2>\n                <p className='created-by'>By {project.createdBy.displayName}</p>\n                <p className='due-date'>Project due by {project.dueDate.toDate().toDateString()}</p>\n                <p className='details'>{project.details}</p>\n                <h4>Project assigned to:</h4>\n                <div className='assigned-users'>\n                    {project.assignedUsersList.map(user => (\n                        <div key={user.id}>\n                            <Avatar src={user.photoURL} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n            {user.uid === project.createdBy.id && (\n                <button className=\"btn\" onClick={handleClick}>Mark as Completed</button>\n            )}\n        </div>\n    )\n}\n","import { useState } from \"react\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport Avatar from \"../../components/Avatar\"\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nexport default function ProjectComments({project}) {\n\n    const {updateDocument, response} = useFirestore('projects')\n    const {user} = useAuthContext()\n    const [newComment, setNewComment] = useState('')\n\n    const handleSubmit = async(e) => {\n\n        e.preventDefault()\n\n        const commentToAdd = {\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            content: newComment,\n            createdAt: timestamp.fromDate(new Date()),\n            id: Math.random()\n        }\n\n        await updateDocument(project.id, {\n            comments: [...project.comments, commentToAdd],\n        })\n\n        if (!response.error) {\n            setNewComment('')\n        }\n    }\n\n  return (\n    <div className='project-comments'>\n        <h4>Project Comments</h4>\n        <ul>\n            {project.comments.length > 0 && project.comments.map(comment => (\n                <li key={comment.id}>\n                    <div className='comment-author'>\n                        <Avatar src={comment.photoURL} />\n                        <p>{comment.displayName}</p>\n                    </div>\n                    <div className='comment-date'>\n                    <p>{formatDistanceToNow(comment.createdAt.toDate(), {addSuffix: true})}</p>\n                    </div>\n                    <div className='comment-content'>\n                        <p>{comment.content}</p>\n                    </div>\n                </li>\n            ))}\n        </ul>\n        <form className='add-comment' onSubmit={handleSubmit}>\n            <label>\n                <span>Add new comment:</span>\n                <textarea onChange={(e) => setNewComment(e.target.value)} value={newComment}></textarea>\n            </label>\n            <button className=\"btn\">Add Comment</button>\n        </form>\n    </div>\n  )\n}\n","import './Project.css'\nimport { useParams } from \"react-router-dom\"\nimport { useDocument } from '../../hooks/useDocument'\nimport ProjectSummary from \"./ProjectSummary\"\nimport ProjectComments from \"./ProjectComments\"\n\nexport default function Project() {\n\n  const {id} = useParams()\n  const {document, error} = useDocument('projects', id)\n\n  if (error) {\n    return <div className='error'>{error}</div>\n  }\n  if (!document) {\n    return <div className='loading'>Loading...</div>\n  }\n\n  return (\n    <div className = 'project-details'>\n      <ProjectSummary project={document} />\n      <ProjectComments project={document} />\n    </div>\n  )\n}","import { useEffect, useState } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useDocument = (collection, id) => {\n\n    const [document, setDocument] = useState(null)\n    const [error, setError] = useState(null)\n\n    useEffect(() => {\n        const ref = projectFirestore.collection(collection).doc(id)\n\n        const unsubscribe = ref.onSnapshot(snapshot => {\n            if (snapshot.data()) {\n                setDocument({...snapshot.data(), id: snapshot.id})\n                setError(null)\n            }\n            else {\n                setError('No such document exists')\n            }\n        }, err => {\n            console.log(err.message)\n            setError('failed to get document')\n        })\n\n        return () => unsubscribe()\n        \n    }, [collection, id])\n    \n    return {document, error}\n}\n","export default __webpack_public_path__ + \"static/media/team.36f268b6.svg\";","import './Navbar.css'\nimport logo from '../images/team.svg'\nimport { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nexport default function Navbar() {\n    const {logout, isPending} = useLogout()\n    const { user } = useAuthContext()\n\n    return (\n        <nav className=\"navbar\">\n            <ul>\n                {!user && (\n                <>\n                    <li className=\"logo\">\n                        <img src={logo} alt=\"logo\" />\n                        <span>Tackle It</span>\n                    </li>\n                    <li><Link to=\"/login\">Login</Link></li>\n                    <li><Link to=\"/signup\">Signup</Link></li>\n                </>\n                )}\n\n                {user && (\n                    <li>\n                        {!isPending && <button className=\"btn\" onClick={logout}>Logout</button>}\n                        {isPending && <button className=\"btn\" disabled>Logging out...</button>}\n                    </li>\n                )}\n            </ul>\n        </nav>\n    )\n}","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext} from './useAuthContext'\n\nexport const useLogout = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n    \n    const logout = async () => { \n        setError(null)\n        setIsPending(true)\n    \n        try {\n            // get current user\n            const { uid } = projectAuth.currentUser\n            await projectFirestore.collection('users').doc(uid).update({ online: false })\n            // sign out\n            await projectAuth.signOut()\n            // update state\n            dispatch({type: 'LOGOUT'})\n\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            } \n        } \n        catch(err) {\n            if (!isCancelled) {\n                setError(err.message)\n                setIsPending(false)\n            }\n        }\n    }\n  \n    useEffect(() => {\n      return () => setIsCancelled(true)\n    }, [])\n  \n    return { logout, error, isPending }\n  }","export default __webpack_public_path__ + \"static/media/dashboard.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add.376e9b6a.svg\";","import \"./Sidebar.css\"\nimport DashboardIcon from '../images/dashboard.svg'\nimport AddIcon from '../images/add.svg'\nimport Avatar from \"./Avatar\"\n\nimport { NavLink } from \"react-router-dom\"\nimport { useAuthContext } from \"../hooks/useAuthContext\"\n\nexport default function Sidebar() {\n\n  const {user} = useAuthContext()\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={user.photoURL} />\n          <p>Hi {user.displayName} ~</p>  \n        </div>  \n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}","import \"./OnlineUsers.css\"\nimport { useCollection } from '../hooks/useCollection'\nimport Avatar from './Avatar'\n\nexport default function OnlineUsers() {\n\n    const { isPending, error, documents } = useCollection('users')\n\n    return (\n        <div className=\"user-list\">\n            <h2>All Users</h2>\n            {isPending && <div>Loading users...</div>}\n            {error && <div>{error}</div>}\n            {documents && documents.map(user => (\n                <div key={user.id} className='user-list-item'>\n                    {user.online && <span className='online-user'></span>}\n                    <span>{user.displayName}</span>\n                    <Avatar src={user.photoURL} />\n                </div>\n            ))}\n        </div>\n    )\n}\n","import './App.css'\n\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\n\nimport Dashboard from './pages/dashboard/Dashboard'\nimport Create from './pages/create/Create'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Project from './pages/project/Project'\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/SideBar'\nimport OnlineUsers from './components/OnlineUsers'\n\nfunction App() {\n\n  const { authIsReady, user } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Dashboard />}\n              </Route>\n              <Route path=\"/create\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Create />}\n              </Route>\n              <Route path=\"/projects/:id\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Project />}\n              </Route>\n              <Route path=\"/login\">\n                {user && <Redirect to=\"/\" /> }\n                {!user && <Login /> }\n              </Route>\n              <Route path=\"/signup\">\n                {user && <Redirect to=\"/\" /> }\n                {!user && <Signup /> }\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}